import t from"pg";const{Pool:n}=t;let e=null;async function a(t){return e=new n({user:t.user,password:t.password,host:t.host,port:t.port,database:t.database}),await e.connect(),e}function o(){return"1.0.0"}async function s(){if(!e)throw new Error("Database not connected");const t=[{name:"local_logs",columns:[{name:"id",type:"bigserial"},{name:"message",type:"text"},{name:"created_at",type:"timestamp"},{name:"author",type:"uuid"},{name:"type",type:"tinyint"}]}];for(const n of t){const t=n.columns.map(t=>`${t.name} ${t.type}`).join(", ");await e.query(`CREATE TABLE IF NOT EXISTS ${n.name} (${t})`)}return t}async function r(){}export{a as connect,s as createTables,o as getVersion,r as log};
