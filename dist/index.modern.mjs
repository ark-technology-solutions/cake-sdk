import t from"pg";const{Client:e}=t;let n=null;async function a(t){return n=new e({user:t.user,password:t.password,host:t.host,port:t.port,database:t.database}),await n.connect(),n}function o(){return"1.0.0"}async function s(){if(!n)throw new Error("Database not connected");const t=[{name:"local_logs",columns:[{name:"id",type:"bigserial"},{name:"message",type:"text"},{name:"created_at",type:"timestamp"},{name:"author",type:"uuid"},{name:"type",type:"smallint"}]}];for(const e of t){const t=e.columns.map(t=>`${t.name} ${t.type}`).join(", ");await n.query(`CREATE TABLE IF NOT EXISTS ${e.name} (${t})`)}return t}async function r(){}export{a as connect,s as createTables,o as getVersion,r as log};
